<div class='container'>
  <form #registerForm='ngForm'>
    <div class="row">
      <div class="col-md-6 offset-md-3">
        <div class="login-form mx-auto">
          <h2 class='login-header'>Đăng ký</h2>
          <div class='form-group'>
            <label for='phone'>Phone</label>
            <input type='text' [(ngModel)]="phone" (input)="onPhoneChange()" class='form-control' name='phone'
              (focus)="registerForm.form.controls['phone'].markAsTouched()" required id='phone'>
            <div class='divider-nospace'></div>
            <p class='text-danger' *ngIf="phone.length  <  6 && registerForm.form.touched">
              Phone phải có ít nhất 6 ký tự</p>
          </div>
          <div class='mt-3'></div>
          <div class='form-group password-field'>
            <label for='password'>Mật khẩu</label>
            <input type='text' [(ngModel)]="password" name='password'
              (focus)="registerForm.form.controls['password'].markAsTouched()" class='form-control' required
              placeholder='Ít nhất 3 kí tự' id='password'>
            <i class='password-toggle fas fa-eye-slash'></i>
            <div class='divider-nospace'></div>
            <p class='text-danger' *ngIf="password.length  <  3 && registerForm.form.touched">
              Mật khẩu phải có ít nhất 3 ký tự</p>
          </div>
          <div class='mt-3'></div>
          <div class='form-group password-field'>
            <label for='confirm-password'>Gõ lại mật khẩu</label>
            <input type='text' [(ngModel)]="retypePassword" name='retypePassword'
              (input)="registerForm.form.controls['retypePassword'].markAsTouched(); checkPasswordMatch()"
              class='form-control' required placeholder='Ít nhất 3 kí tự' id='confirm-password'>
            <i class='password-toggle fas fa-eye-slash'></i>
            <div class='divider-nospace'></div>
            <p class='text-danger' *ngIf="retypePassword.length  <  3 && registerForm.form.touched">
              Mật khẩu phải có ít nhất 3 ký tự</p>
            <p class='text-danger'
              *ngIf="registerForm.controls['retypePassword'] && registerForm.controls['retypePassword']?.hasError('passwordMismatch') && registerForm.form.touched">
              Mật khẩu không khớp</p>
          </div>
          <div class='mt-3'></div>
          <div class='form-group password-field'>
            <label for='full-name'>Họ và tên</label>
            <input type='text' [(ngModel)]="fullName" name='fullName' class='form-control' id='full-name'>

            <div class='divider-nospace'></div>
          </div>
          <div class='form-group password-field'>
            <label for='birth-day'>Ngày sinh</label>
            <input (change)="registerForm.form.controls['dateOfBirth'].markAsTouched(); checkAge()" name='dateOfBirth'
              type='date' [(ngModel)]="dateOfBirth" class='form-control' id='birth-day'>

            <div class='divider-nospace'></div>
            <p class='text-danger'
              *ngIf="registerForm.controls['dateOfBirth'] && registerForm.controls['dateOfBirth'].hasError('invalidAge') && registerForm.form.touched">
              Bạn chưa đủ 18 tuổi</p>
          </div>
          <div class='mt-3'></div>
          <div class='form-group password-field'>
            <label for='address'>Địa chỉ</label>
            <input name='address' type='text' [(ngModel)]="address" class='form-control' id='address'>

            <div class='divider-nospace'></div>
          </div>
          <div class='form-group'>
            <div class='form-check checkbox-text'>
              <span style="display: flex;">
                <input type='checkbox' [(ngModel)]="isAccepted" name='isAccepted' class='form-check-input'
                  id='remember'>
                <label class='form-check-label text-start' for='remember'>
                  Tôi đồng ý với các điều khoản
                </label>
              </span>

            </div>
          </div>

          <button type='button' (click)="register()" class='login-button'>Đăng ký</button>
          <div class='divider'></div>
          <p class='text-center'>Bạn đã có tài khoản?
            <span><a href='#' class='register-link'>Đăng nhập</a></span>
          </p>
        </div>
      </div>
    </div>
  </form>
</div>
